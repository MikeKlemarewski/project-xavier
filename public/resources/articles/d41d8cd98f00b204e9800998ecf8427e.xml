<title>HTML, HTML5, CSS, CSS3, JQuery, Flash, Photoshop, mobile, iphone & ipad web application</title>
<content><div><p>It’s a sure thing that CSS3 features like transitions, animations and transforms can add extra spice to your designs.</p>
<p>In this article you will see how you can build an awesome CSS3 animated dropdown menu with some of these cool features.  This is something I wished to do for a while and I finally made it. I just added support for <a href="http://dhirajkumarsingh.wordpress.com/category/mobile-web-technology/">smartphones / mobile</a> devices and fixed the navigation for <a href="http://dhirajkumarsingh.wordpress.com/category/mobile-web-technology/">iPad and iPhone</a> also.</p>
<p><a href="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-animated-dropdown-menu-preview.png"><img title="css3-animated-dropdown-menu-preview" src="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-animated-dropdown-menu-preview.png?w=614" alt="css3-animated-dropdown-menu-preview" /></a></p>
<p>Here’s a quick preview for the CSS3 animated dropdown menu that we’re going to create today:</p>
<p><a href="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-menu-animation.gif"><img title="css3-menu-animation" src="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-menu-animation.gif?w=614" alt="css3-menu-animation" /></a></p>
<h3>The HTML</h3>
<p>The HTML structure hasn’t changed at all, simple and minimal. Here’s an excerpt:</p>
<pre>&lt;ul id="menu"&gt;
        &lt;li&gt;&lt;a href="#"&gt;Home&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;
                &lt;a href="#"&gt;Categories&lt;/a&gt;
                &lt;ul&gt;
                        &lt;li&gt;&lt;a href="#"&gt;CSS&lt;/a&gt;&lt;/li&gt;
                        &lt;li&gt;&lt;a href="#"&gt;Graphic design&lt;/a&gt;&lt;/li&gt;
                        &lt;li&gt;&lt;a href="#"&gt;Development tools&lt;/a&gt;&lt;/li&gt;
                        &lt;li&gt;&lt;a href="#"&gt;Web design&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
        &lt;/li&gt;
        &lt;li&gt;&lt;a href="#"&gt;Work&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="#"&gt;About&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="#"&gt;Contact&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</pre>
<h3>The CSS</h3>
<p>I revised and improved the styles in order to create this unique CSS3 animated dropdown menu. So, below you can find the commented pieces of styles:</p>
<h4>Mini reset</h4>
<p>Reset the default <code>ul</code> styles.</p>
<pre>#menu, #menu ul {
        margin: 0;
        padding: 0;
        list-style: none;
}</pre>
<h4>Main level</h4>
<p>The <code>#menu</code> is basically the main <code>ul</code> for this menu. CSS3 things like <a href="http://dhirajkumarsingh.wordpress.com/2012/05/05/css3-gradients-quick-tutorial/">gradients</a>, <a href="http://dhirajkumarsingh.wordpress.com/2012/04/17/how-to-create-slick-effects-with-css3-box-shadow/">shadows</a> and <a href="http://dhirajkumarsingh.wordpress.com/2012/04/07/practical-css3-tables-with-rounded-corners/">rounded corners</a> help us to create the below:</p>
<p><a href="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-menu-wrapper.png"><img title="css3-menu-wrapper" src="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-menu-wrapper.png?w=614" alt="css3-menu-wrapper" /></a></p>
<pre>#menu {
        width: 960px;
        margin: 60px auto;
        border: 1px solid #222;
        background-color: #111;
        background-image: linear-gradient(#444, #111);
        border-radius: 6px;
        box-shadow: 0 1px 1px #777;
}</pre>
<h4>Clear floats</h4>
<p>Here is <a href="http://nicolasgallagher.com/micro-clearfix-hack/">Nicolas Gallagher</a>‘s clearing method I’ve been using lately:</p>
<pre>#menu:before,
#menu:after {
        content: "";
        display: table;
}

#menu:after {
        clear: both;
}

#menu {
        zoom:1;
}</pre>
<h4>List elements</h4>
<p><a href="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-menu-elements.png"><img title="css3-menu-elements" src="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-menu-elements.png?w=614" alt="css3-menu-elements" /></a></p>
<p>Please notice the <code>#menu li:hover &gt; a</code>  <a href="http://dhirajkumarsingh.wordpress.com/2012/05/14/things-you-should-know-about-css-anatomy/">selector</a>. This is perhaps the most important <a href="http://dhirajkumarsingh.wordpress.com/2012/05/17/tips-to-organize-your-css/">CSS trick</a> for this CSS3 dropdown menu.</p>
<p>So, this is how this works: Select an “a” element that is child of a “li” ; the “li” element must be a descendant of the “#menu”. Read more <a href="http://www.w3.org/TR/CSS2/selector.html#child-selectors">here</a>.</p>
<pre>#menu li {
        float: left;
        border-right: 1px solid #222;
        box-shadow: 1px 0 0 #444;
        position: relative;
}

#menu a {
        float: left;
        padding: 12px 30px;
        color: #999;
        text-transform: uppercase;
        font: bold 12px Arial, Helvetica;
        text-decoration: none;
        text-shadow: 0 1px 0 #000;
}

#menu li:hover &gt; a {
        color: #fafafa;
}

*html #menu li a:hover { /* IE6 only */
        color: #fafafa;
}</pre>
<h4>Submenus</h4>
<p>With CSS3 transitons we can animate changes to CSS properties like <code>margin</code> or <code>opacity</code>. This is very cool and I’ve used this for animating the CSS3 sub-menus. The result is great if you ask me:</p>
<p><a href="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-menu-animation.gif"><img title="css3-menu-animation" src="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-menu-animation.gif?w=614" alt="css3-menu-animation" /></a></p>
<pre>#menu ul {
        margin: 20px 0 0 0;
        _margin: 0; /*IE6 only*/
        opacity: 0;
        visibility: hidden;
        position: absolute;
        top: 38px;
        left: 0;
        z-index: 1;
        background: #444;
        background: linear-gradient(#444, #111);
        box-shadow: 0 -1px 0 rgba(255,255,255,.3);
        border-radius: 3px;
        transition: all .2s ease-in-out;
}

#menu li:hover &gt; ul {
        opacity: 1;
        visibility: visible;
        margin: 0;
}

#menu ul ul {
        top: 0;
        left: 150px;
        margin: 0 0 0 20px;
        _margin: 0; /*IE6 only*/
        box-shadow: -1px 0 0 rgba(255,255,255,.3);
}

#menu ul li {
        float: none;
        display: block;
        border: 0;
        _line-height: 0; /*IE6 only*/
        box-shadow: 0 1px 0 #111, 0 2px 0 #666;
}

#menu ul li:last-child {
        box-shadow: none;
}

#menu ul a {
        padding: 10px;
        width: 130px;
        _height: 10px; /*IE6 only*/
        display: block;
        white-space: nowrap;
        float: none;
        text-transform: none;
}

#menu ul a:hover {
        background-color: #0186ba;
        background-image: linear-gradient(#04acec, #0186ba);
}</pre>
<h4>First and last list elements styles</h4>
<p><a href="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-dropdown-first-last-items.png"><img title="css3-dropdown-first-last-items" src="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-dropdown-first-last-items.png?w=614" alt="css3-dropdown-first-last-items" /></a></p>
<pre>#menu ul li:first-child &gt; a {
        border-radius: 3px 3px 0 0;
}

#menu ul li:first-child &gt; a:after {
        content: '';
        position: absolute;
        left: 40px;
        top: -6px;
        border-left: 6px solid transparent;
        border-right: 6px solid transparent;
        border-bottom: 6px solid #444;
}

#menu ul ul li:first-child a:after {
        left: -6px;
        top: 50%;
        margin-top: -6px;
        border-left: 0;
        border-bottom: 6px solid transparent;
        border-top: 6px solid transparent;
        border-right: 6px solid #3b3b3b;
}

#menu ul li:first-child a:hover:after {
        border-bottom-color: #04acec;
}

#menu ul ul li:first-child a:hover:after {
        border-right-color: #0299d3;
        border-bottom-color: transparent;
}

#menu ul li:last-child &gt; a {
        border-radius: 0 0 3px 3px;
}</pre>
<h3>The jQuery</h3>
<p>As you already get used to, <a href="http://dhirajkumarsingh.wordpress.com/2012/04/30/how-to-solve-common-ie-bugs/">IE6</a> gets some extra attention:</p>
<pre>$(function() {
  if ($.browser.msie &amp;&amp; $.browser.version.substr(0,1)&lt;7)
  {
        $('li').has('ul').mouseover(function(){
                $(this).children('ul').css('visibility','visible');
                }).mouseout(function(){
                $(this).children('ul').css('visibility','hidden');
                })
  }
});</pre>
<p>While the <code>:hover</code> <a href="http://dhirajkumarsingh.wordpress.com/2012/05/09/before-after-pseudo-elements-syntax/">pseudo-class</a> does not work for other elements than anchor, we just need to add this small jQuery snippet to fix it. It’s pretty self-explanatory.</p>
<h3>Update: Mobile navigation support</h3>
<p><a href="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-mobile-dropdown.png"><img title="css3-mobile-dropdown" src="http://dhirajkumarsingh.files.wordpress.com/2012/05/css3-mobile-dropdown.png?w=614" alt="css3-mobile-dropdown" /></a></p>
<p>This is something I wished to do for a while and I finally made it. I just added support for mobile devices and fixed the navigation for iPad.</p>
<p>You know how much I love <a href="http://dhirajkumarsingh.wordpress.com/2012/05/12/fancy-faq-page-using-css3-only/">CSS only</a> solutions, but this time we’ll be using some jQuery to enhance this menu. To view the result, you can narrow your browser window or browse it with your smartphone.</p>
<h4>The viewport meta tag</h4>
<p>To maintain everything at the correct scale, the first thing added is the <a href="http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/quick-tip-dont-forget-the-viewport-meta-tag/">viewport meta</a> tag:</p>
<pre>&lt;meta name="viewport" content="width=device-width; initial-scale=1.0"&gt;</pre>
<h4>Small HTML update</h4>
<p>You need to wrap the above HTML structure using something like: <code>&lt;nav id="menu-wrap"&gt;</code>. This will be our <code>relative</code> holder for the mobile navigation.</p>
<h4>The jQuery add</h4>
<p>After page loads, we’ll add the <code>#menu-trigger</code> element which does exactly what you think: will trigger the mobile menu when it will be clicked. Further, in the CSS, you’ll see that this element is displayed using CSS3 media queries.</p>
<p>Another thing here is the iPad device detection. As you can see below, we’ll remove the fancy transition effect and stick to toggling <code>display: none/block</code>. This way, the functionality will be maintained also on the iPad.</p>
<pre>/* Mobile */
$('#menu-wrap').prepend('&lt;div id="menu-trigger"&gt;Menu&lt;/div&gt;');
$("#menu-trigger").on("click", function(){
        $("#menu").slideToggle();
});

// iPad
var isiPad = navigator.userAgent.match(/iPad/i) != null;
if (isiPad) $('#menu ul').addClass('no-transition');</pre>
<h4>The mobile CSS</h4>
<p>Here, the CSS3 media queries do the trick. We’ll add CSS rules to override the initial styles:</p>
<pre>#menu-trigger { /* Hide it initially */
        display: none;
}

@media screen and (max-width: 600px) {

        #menu-wrap {
                position: relative;
        }

        #menu-wrap * {
                box-sizing: border-box;
        }

        #menu-trigger {
                display: block; /* Show it now */
                height: 40px;
                line-height: 40px;
                cursor: pointer;
                padding: 0 0 0 35px;
                border: 1px solid #222;
                color: #fafafa;
                font-weight: bold;
                background-color: #111;
                /* Multiple backgrounds here, the first is base64 encoded */
                background: url(data:image/png;base64,iVBOR...) no-repeat 10px center, linear-gradient(#444, #111);
                border-radius: 6px;
                box-shadow: 0 1px 1px #777, 0 1px 0 #666 inset;
        }

        #menu {
                margin: 0; padding: 10px;
                position: absolute;
                top: 40px;
                width: 100%;
                z-index: 1;
                display: none;
                box-shadow: none;
        }

        #menu:after {
                content: '';
                position: absolute;
                left: 25px;
                top: -8px;
                border-left: 8px solid transparent;
                border-right: 8px solid transparent;
                border-bottom: 8px solid #444;
        }       

        #menu ul {
                position: static;
                visibility: visible;
                opacity: 1;
                margin: 0;
                background: none;
                box-shadow: none;
        }

        #menu ul ul {
                margin: 0 0 0 20px !important;
                box-shadow: none;
        }

        #menu li {
                position: static;
                display: block;
                float: none;
                border: 0;
                margin: 5px;
                box-shadow: none;
        }

        #menu ul li{
                margin-left: 20px;
                box-shadow: none;
        }

        #menu a{
                display: block;
                float: none;
                padding: 0;
                color: #999;
        }

        #menu a:hover{
                color: #fafafa;
        }       

        #menu ul a{
                padding: 0;
                width: auto;
        }

        #menu ul a:hover{
                background: none;
        }

        #menu ul li:first-child a:after,
        #menu ul ul li:first-child a:after {
                border: 0;
        }               

}

@media screen and (min-width: 600px) {
        #menu {
                display: block !important;
        }
}       

/* iPad */
.no-transition {
        transition: none;
        opacity: 1;
        visibility: visible;
        display: none;
}

#menu li:hover &gt; .no-transition {
        display: block;
}</pre>
<h3>Your turn</h3>
<p>I hope you enjoyed this article and the techniques I used. Please share your comments and questions below!</p>
		<div>
			<span>28.712738</span>
			<span>77.162896</span>
		</div><div><div><h3>Share this:</h3><div><ul><li><div><g:plusone size="medium" callback="sharing_plusone" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/"></g:plusone></div></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=twitter" title="Click to share on Twitter"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=facebook" title="Share on Facebook"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=digg" title="Click to Digg this post"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=stumbleupon" title="Click to share on StumbleUpon"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=linkedin" title="Click to share on LinkedIn"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=reddit" title="Click to share on Reddit"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=tumblr" title="Click to share on Tumblr"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=pinterest" title="Click to share on Pinterest"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?share=email" title="Click to email this to a friend"><span></span></a></li><li><a rel="nofollow" href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/#print" title="Click to print"><span></span></a></li><li></li></ul><div></div></div></div><div><h3>Like this:</h3><div><div><a href="http://dhirajkumarsingh.wordpress.com/2012/05/20/css3-animated-dropdown-menu/?like=1&amp;_wpnonce=92203737f6" title="I like this." rel="nofollow"><span>Like</span></a></div><div>Be the first to like this.</div></div></div></div>														</div></content>